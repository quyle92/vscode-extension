"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deactivate=exports.activate=void 0;var s,vscode_1=require("vscode"),child_process=require("child_process"),fs=require("fs"),path=require("path");function activate(e){s&&s.dispose();var t=vscode_1.commands.registerCommand("quickterminal.openfolder",(function(e){var t=vscode_1.workspace.getConfiguration("terminal").external,s=e.fsPath;if(fs.lstatSync(s).isDirectory()||(s=path.dirname(s)),"win32"===process.platform)child_process.exec("start /D "+s+' "%cd%" cmd');else if("darwin"===process.platform)child_process.exec("open -a "+(t.osxExec||"Terminal.app")+' "'+s+'"');else if("linux"===process.platform){if(!t.linuxExec)return vscode_1.window.showErrorMessage('You have not set your linux terminal. Please add the "terminal.external.linuxExec" to your settings.json');child_process.exec("cd "+e.fsPath+" && "+s)}}));e.subscriptions.push(t),vscode_1.workspace.onDidChangeConfiguration((function(){s&&(s.hide(),s.dispose()),createButton()})),createButton()}function createButton(){var e=vscode_1.workspace.getConfiguration("quickterminal");(s=vscode_1.window.createStatusBarItem(vscode_1.StatusBarAlignment.Right,e.get("priority",0))).command="workbench.action.terminal.openNativeConsole",s.tooltip="Open external terminal",s.text="$(terminal)",s.show()}function deactivate(){s&&(s.hide(),s.dispose())}exports.activate=activate,exports.deactivate=deactivate;